(function(){"use strict";var e={8592:function(e,t,a){var s=a(9242),o=a(3396),n=a(7139);const l={class:"p-2 apppp"},i=(0,o._)("span",null,"タスクを追加 ▲",-1),d=(0,o._)("span",null,"閉じる ×",-1);function r(e,t,a,s,r,c){const u=(0,o.up)("ListView"),p=(0,o.up)("ScheduleView"),m=(0,o.up)("ReportView"),h=(0,o.up)("router-link"),k=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(u,{class:"card",onSelectedTaskId:c.selectedTaskId},null,8,["onSelectedTaskId"]),(0,o.Wm)(p,{class:"card"}),(0,o.Wm)(m,{class:"card"}),(0,o.Wm)(h,{to:"/",class:(0,n.C_)([{hide:0==r.showSwipeModalFlg,show:1==r.showSwipeModalFlg},"overlay"]),onClick:c.closeSwipeModal},null,8,["class","onClick"]),(0,o._)("div",{class:(0,n.C_)([{hide:0==r.showSwipeModalFlg,show:1==r.showSwipeModalFlg},"swipe"])},[0==r.showSwipeModalFlg?((0,o.wg)(),(0,o.j4)(h,{key:0,to:"/create/0",class:"btn btn-light",onClick:c.closeSwipeModal},{default:(0,o.w5)((()=>[i])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(h,{key:1,class:"btn btn-light",to:"/",onClick:c.closeSwipeModal},{default:(0,o.w5)((()=>[d])),_:1},8,["onClick"])),(0,o.Wm)(k)],2)])}const c={class:"p-2"},u={class:"text-center"},p={class:"card"};function m(e,t,a,s,l,i){const d=(0,o.up)("ModalWindow"),r=(0,o.up)("router-link"),m=(0,o.up)("b-form-checkbox");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{text:"あなたの先延ばし傾向をチェックしてみましょう","show-btn-flg":"0","target-id":"exampleModal"}),(0,o._)("div",c,[(0,o._)("h3",u,(0,n.zw)(i.doingTasks.length)+"件のタスク",1),(0,o._)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.doingTasks,((e,t)=>((0,o.wg)(),(0,o.iD)("li",{key:t,class:"card m-2"},[(0,o._)("ul",null,[(0,o._)("li",{class:(0,n.C_)([{finished:1==e.finished},"p-2 d-flex align-items-center justify-content-between"])},[(0,o._)("span",null,(0,n.zw)(e.name),1),(0,o.Wm)(r,{to:`/edit/${e.id}`,class:"btn btn-primary",onClick:t=>i.sendTaskId(e.id)},{default:(0,o.w5)((()=>[(0,o.Uk)("編集")])),_:2},1032,["to","onClick"])],2),(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.steps,((t,a)=>((0,o.wg)(),(0,o.iD)("li",{key:a,class:"p-2 border-top"},[(0,o.Wm)(m,{modelValue:t.finished,"onUpdate:modelValue":e=>t.finished=e,value:"1"},{default:(0,o.w5)((()=>[(0,o._)("span",{class:(0,n.C_)({finished:1==t.finished||1==e.finished})},(0,n.zw)(t.step),3)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])])])))),128))])])])}a(560);var h=a(65);const k=(e,t)=>{localStorage.setItem(e,t)},g=e=>{const t=e.getFullYear(),a=("00"+(e.getMonth()+1)).slice(-2),s=("00"+e.getDate()).slice(-2),o=`${t}-${a}-${s}`;return o};var f=(0,h.MT)({state:{tasks:[],editTaskId:0},getters:{getTasks(e){return e.tasks},getEditTaskId(e){return e.editTaskId},getDateset(e){console.log(e)}},mutations:{selectEditTaskId(e,t){e.editTaskId=t},addTask(e,{task:t}){e.tasks.push(t)},changeTask(e,{task:t}){e.tasks=t},saveTask(e){k("tasks",JSON.stringify(e.tasks))},loadTask(e){localStorage.getItem("tasks")&&(e.tasks=JSON.parse(localStorage.getItem("tasks")))}},actions:{addTask(e,{task:t}){e.commit("addTask",{task:t}),e.commit("saveTask")},changeTask(e,{task:t}){e.commit("changeTask",{task:t}),e.commit("saveTask")}},modules:{}});const w=["id"],b={class:"modal-dialog",id:"modal-window",role:"document"},v={class:"modal-content rounded-bottom"},y={class:"modal-body"},T=(0,o._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,o._)("span",{"aria-hidden":"true"},"×")],-1),_={key:0,class:"modal-footer"},D=(0,o._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),C=(0,o._)("button",{type:"button",class:"btn btn-primary"},"Save changes",-1),S=[D,C];function I(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:"modal fade",id:a.targetId,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o._)("div",b,[(0,o._)("div",v,[(0,o._)("div",y,[T,(0,o._)("div",null,(0,n.zw)(a.text),1)]),1==a.showBtnFlg?((0,o.wg)(),(0,o.iD)("div",_,S)):(0,o.kq)("",!0)])])],8,w)])}var V={props:["text","showBtnFlg","targetId"]},W=a(89);const x=(0,W.Z)(V,[["render",I]]);var M=x,F=a(4870),B={data(){return{tasks:[],steps:[],today:"",todayTasks:[],dates:(0,F.iH)([{bar:!0,dates:[new Date(2023,10,1),new Date(2023,10,10),new Date(2023,10,22)],popover:{label:"Take Noah to basketball practice."},isComplete:!1},{bar:"red",dates:[new Date(2023,10,4),new Date(2023,10,10),new Date(2023,10,15)]},{bar:{style:{backgroundColor:"brown"}},dates:[new Date(2023,10,12),new Date(2023,10,26),new Date(2023,10,15)]}])}},components:{ModalWindow:M},created(){this.tasks=f.getters.getTasks,this.steps=f.getters.getSteps,this.today=new Date,this.tasks.forEach((e=>{new Date(e.start_date)<=this.today&&new Date(e.end_date)>=this.today&&this.todayTasks.push(e)}))},computed:{doingTasks(){return this.tasks.filter((e=>!e.finished))},finishTasks(){return this.tasks.filter((e=>1==e.finished))}},watch:{tasks:{handler:function(){f.dispatch("changeTask",{task:this.tasks})},deep:!0}},methods:{finishToDo(e){this.tasks.splice(e,1)},sendTaskId(e){f.commit("selectEditTaskId",e)}}};const j=(0,W.Z)(B,[["render",m]]);var E=j,U={__name:"ScheduleView",setup(e){const t=(0,F.iH)([{description:"レポート - テーマ選択",isComplete:!1,dates:new Date(2023,11,1),color:"green"},{description:"レポート - 文献調査",isComplete:!1,dates:new Date(2023,11,2),color:"green"},{description:"レポート - 下書き",isComplete:!1,dates:new Date(2023,11,3),color:"green"},{description:"レポート - 清書",isComplete:!1,dates:new Date(2023,11,4),color:"green"},{description:"レポート - 提出",isComplete:!1,dates:new Date(2023,11,5),color:"green"},{description:"bbb",isComplete:!1,dates:{repeat:{weekdays:3}},color:"red"}]),a=(0,o.Fl)((()=>[...t.value.map((e=>({dates:e.dates,bar:{color:e.color,...e.isComplete&&{class:"opacity-75"}},popover:{label:e.description}})))]));return(e,t)=>{const s=(0,o.up)("VCalendar");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(s,{attributes:a.value},null,8,["attributes"])])}}};const L=U;var O=L;const P={class:"card p-2",style:{width:"100%","max-height":"600px"}},N=(0,o._)("h3",{class:"text-center"},"タスク達成率",-1);function q(e,t,a,s,n,l){const i=(0,o.up)("ChartPie");return(0,o.wg)(),(0,o.iD)("div",P,[N,(0,o.Wm)(i,{labels:["達成","未達成"],datas:l.getTaskRate},null,8,["datas"])])}const H={class:"text-center"};function z(e,t,a,s,l,i){const d=(0,o.up)("Pie");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h4",H,(0,n.zw)(i.finishPercent)+"%",1),(0,o.Wm)(d,{data:l.data,options:l.options},null,8,["data","options"])])}var Z=a(9646),A=a(5866);Z.kL.register(Z.qi,Z.u,Z.De);var R={props:["labels","datas"],components:{Pie:A.by},data(){return{data:{labels:this.labels,datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16","#ccc"],data:this.datas}]},options:{responsive:!0}}},computed:{finishPercent(){const e=this.datas[0];let t=0;if(0!==e){const a=this.datas[0]+this.datas[1];t=Math.round(e/a*100)}return t}}};const Y=(0,W.Z)(R,[["render",z]]);var $=Y,K={name:"App",components:{ChartPie:$},data(){return{radar:{data:{labels:["a","b","c","d","e","f","g"],datasets:[{label:"aaa",backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgba(179,181,198,1)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",data:[65,59,90,81,56,55,40]},{label:"bbb",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",data:[28,48,40,19,96,27,100]}]},options:{responsive:!1,maintainAspectRatio:!1}}}},computed:{getTaskRate(){let e=0,t=0;const a=f.getters.getTasks;return a.forEach((a=>{1==a.finished?e+=a.steps.length:a.steps.forEach((a=>{1==a.finished?e++:t++}))})),[e,t]},getbeforeProcrastinationTendency(){return[10,20,25]},getafterProcrastinationTendency(){return[20,20,30]}}};const J=(0,W.Z)(K,[["render",q]]);var G=J,Q={data(){return{editTaskId:null,showSwipeModalFlg:!1}},components:{ListView:E,ScheduleView:O,ReportView:G},computed:{getEditTaskId(){return f.getters.getEditTaskId}},watch:{showSwipeModalFlg(e){1==e?document.querySelector("body").style.overflow="hidden":(document.querySelector("body").style.overflow="visible",f.commit("selectEditTaskId",0))},getEditTaskId(e){e>0&&(this.showSwipeModalFlg=!0)}},created(){f.commit("loadTask")},methods:{selectedTaskId(e){this.editTaskId=e,this.showSwipeModalFlg=!0},closeSwipeModal(){this.showSwipeModalFlg=!this.showSwipeModalFlg,this.editTaskId=0}}};const X=(0,W.Z)(Q,[["render",r]]);var ee=X,te=a(5431);(0,te.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var ae=a(2483);const se={class:"p-2 swipeModal"},oe={key:0,class:"m-0 pt-3 text-center"},ne={key:1,class:"m-0 pt-3 text-center"},le=(0,o._)("label",{for:"task-name"},"タスク名",-1);function ie(e,t,a,s,l,i){const d=(0,o.up)("BFormInput"),r=(0,o.up)("b-form-group"),c=(0,o.up)("b-form-input"),u=(0,o.up)("BButton"),p=(0,o.up)("b-input-group-append"),m=(0,o.up)("b-input-group"),h=(0,o.up)("b-col"),k=(0,o.up)("b-row"),g=(0,o.up)("VDatePicker"),f=(0,o.up)("b-form"),w=(0,o.up)("b-button");return(0,o.wg)(),(0,o.iD)("div",se,[0==l.taskId?((0,o.wg)(),(0,o.iD)("h2",oe,"タスク作成")):((0,o.wg)(),(0,o.iD)("h2",ne,"タスク編集")),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"mt-1"},{default:(0,o.w5)((()=>[le,(0,o.Wm)(d,{id:"task-name",modelValue:l.taskName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.taskName=e),placeholder:"タスク名を入力",required:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(r,{class:"mt-5",label:"ステップ"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.steps,((e,t)=>((0,o.wg)(),(0,o.j4)(m,{class:"mb-2",key:t},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"text",modelValue:l.steps[t],"onUpdate:modelValue":e=>l.steps[t]=e},null,8,["modelValue","onUpdate:modelValue"]),l.steps.length>1?((0,o.wg)(),(0,o.j4)(p,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{variant:"outline-primary",onClick:e=>i.removeStep(t)},{default:(0,o.w5)((()=>[(0,o.Uk)("削除")])),_:2},1032,["onClick"])])),_:2},1024)):(0,o.kq)("",!0)])),_:2},1024)))),128)),(0,o.Wm)(u,{variant:"primary",onClick:i.addStep,class:"mx-auto"},{default:(0,o.w5)((()=>[(0,o.Uk)("ステップを追加＋")])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(r),(0,o.Wm)(r,{class:"mt-5",label:"期限"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{type:"date",class:"form-control",modelValue:l.deadLineDate,"onUpdate:modelValue":t[1]||(t[1]=e=>l.deadLineDate=e),min:l.today,onInput:t[2]||(t[2]=e=>i.selectDeadlineDate())},null,8,["modelValue","min"])])),_:1}),(0,o.Wm)(r,{class:"mt-5",label:"取り組みスケジュール"},{default:(0,o.w5)((()=>[l.range?((0,o.wg)(),(0,o.j4)(k,{key:0},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(l.startDate)+" ",1)])),_:1}),(0,o.Uk)(" ～ "),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(l.endDate)+" ",1)])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(g,{expanded:"",mode:"date",modelValue:l.range,"onUpdate:modelValue":t[3]||(t[3]=e=>l.range=e),modelModifiers:{range:!0},"min-date":l.today,"max-date":null!==l.deadLineDate?l.deadLineDate:null},null,8,["modelValue","min-date","max-date"])])),_:1})])),_:1}),0==l.taskId?((0,o.wg)(),(0,o.j4)(w,{key:2,block:"",variant:"primary",onClick:i.createTask},{default:(0,o.w5)((()=>[(0,o.Uk)(" タスクを登録 ")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(w,{key:3,block:"",variant:"primary",onClick:e.saveTask},{default:(0,o.w5)((()=>[(0,o.Uk)(" 変更を保存 ")])),_:1},8,["onClick"]))])}var de={props:["id"],data(){return{range:(0,F.iH)({}),today:null,taskId:this.id,taskName:"",steps:[""],addTimeFlg:!1,deadLineDate:null,deadLineTime:"12:00:00",startDate:null,endDate:null}},created(){if(this.today=g(new Date),this.taskId>0){const e=f.getters.getTasks.filter((e=>e.id==this.taskId))[0];console.log(e),this.taskName=e.name,this.steps=[],e.steps.forEach((e=>{this.steps.push(e.step)})),this.deadLineDate=e.deadline_date,null!==e.deadline_time&&(this.addTimeFlg=!0,this.deadLineTime=e.deadline_time)}},watch:{range:{handler:function(e){this.startDate=g(e.start),this.endDate=g(e.end)},deep:!0}},methods:{addStep(){this.steps.push("")},removeStep(e){this.steps.splice(e,1)},selectDeadlineDate(){},createTask(){const e={name:this.taskName,deadline_date:this.deadLineDate,deadline_time:this.deadLineTime,start_date:this.startDate,end_date:this.endDate,finished:0,steps:[]},t=[];this.steps.forEach((e=>{""!==e&&t.push({step:e,finished:0})}));let a=0;a=f.getters.getTasks.length<1?1:f.getters.getTasks.slice(-1)[0].id+1,e.id=a,e.steps=t,!1===this.addTimeFlg&&(e.deadline_time=null),f.dispatch("addTask",{task:e})}}};const re=(0,W.Z)(de,[["render",ie]]);var ce=re;const ue=[{path:"/create/:id",component:ce,props:!0},{path:"/edit/:id",component:ce,props:!0},{path:"/test",component:O}],pe=(0,ae.p7)({history:(0,ae.r5)(),routes:ue});var me=pe,he=a(1095),ke=(a(7024),a(6744),a(6495));(0,s.ri)(ee).use(f).use(me).use(he.qq).use(he.BootstrapVueIcons).use(ke.ZP,{}).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,n){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],n=e[c][2];for(var i=!0,d=0;d<s.length;d++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[d])}))?s.splice(d--,1):(i=!1,n<l&&(l=n));if(i){e.splice(c--,1);var r=o();void 0!==r&&(t=r)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,n,l=s[0],i=s[1],d=s[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(d)var c=d(a)}for(t&&t(s);r<l.length;r++)n=l[r],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunk_20142nhu"]=self["webpackChunk_20142nhu"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8592)}));s=a.O(s)})();
//# sourceMappingURL=app.525068b5.js.map