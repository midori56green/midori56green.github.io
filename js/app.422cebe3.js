(function(){"use strict";var e={7846:function(e,t,a){var s=a(9242),n=a(3396),o=a(7139);const i={class:"p-2"},l=(0,n._)("span",null,"タスクを追加 ▲",-1),r=(0,n._)("span",null,"閉じる ×",-1);function d(e,t,a,s,d,c){const u=(0,n.up)("ListView"),p=(0,n.up)("ScheduleView"),h=(0,n.up)("ReportView"),k=(0,n.up)("router-link"),m=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(u,{class:"",onSelectedTaskId:c.selectedTaskId},null,8,["onSelectedTaskId"]),(0,n.Wm)(p),(0,n.Wm)(h,{class:"card"}),(0,n.Wm)(k,{to:"/",class:(0,o.C_)([{hide:0==d.showSwipeModalFlg,show:1==d.showSwipeModalFlg},"overlay"]),onClick:c.closeSwipeModal},null,8,["class","onClick"]),(0,n._)("div",{class:(0,o.C_)([{hide:0==d.showSwipeModalFlg,show:1==d.showSwipeModalFlg},"swipe"])},[0==d.showSwipeModalFlg?((0,n.wg)(),(0,n.j4)(k,{key:0,to:"/create/0",class:"btn btn-outline-primary",onClick:c.closeSwipeModal},{default:(0,n.w5)((()=>[l])),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(k,{key:1,class:"btn btn-outline-secondary",to:"/",onClick:c.closeSwipeModal},{default:(0,n.w5)((()=>[r])),_:1},8,["onClick"])),(0,n.Wm)(m)],2)])}const c={class:"p-2"},u={class:"text-center"},p={class:"card"};function h(e,t,a,s,i,l){const r=(0,n.up)("ModalWindow"),d=(0,n.up)("router-link"),h=(0,n.up)("b-button"),k=(0,n.up)("b-form-checkbox");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(r,{text:"あなたの先延ばし傾向をチェックしてみましょう","show-btn-flg":"0","target-id":"exampleModal"}),(0,n._)("div",c,[(0,n._)("h3",u,(0,o.zw)(l.doingTasks.length)+"件のタスク",1),(0,n._)("ul",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.doingTasks,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t,class:"card m-2"},[(0,n._)("ul",null,[(0,n._)("li",{class:(0,o.C_)([{finished:1==e.finished},"p-2 d-flex align-items-center justify-content-between"])},[(0,n._)("span",null,(0,o.zw)(e.name)+" - "+(0,o.zw)(l.priorityLabel(e.priority)),1),(0,n._)("div",null,[(0,n.Wm)(d,{to:`/edit/${e.id}`,class:"btn btn-primary btn-sm mr-2",onClick:t=>l.sendTaskId(e.id)},{default:(0,n.w5)((()=>[(0,n.Uk)("編集")])),_:2},1032,["to","onClick"]),(0,n.Wm)(h,{variant:"outline-danger",size:"sm",onClick:e=>l.deleteTask(t)},{default:(0,n.w5)((()=>[(0,n.Uk)("削除")])),_:2},1032,["onClick"])])],2),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.steps,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:"p-2 border-top"},[(0,n.Wm)(k,{modelValue:t.finished,"onUpdate:modelValue":e=>t.finished=e,value:"1"},{default:(0,n.w5)((()=>[(0,n._)("span",{class:(0,o.C_)({finished:1==t.finished||1==e.finished})},(0,o.zw)(t.step),3)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])])])))),128))])])])}a(560);var k=a(65);const m=(e,t)=>{localStorage.setItem(e,t)},g=e=>{const t=e.getFullYear(),a=("00"+(e.getMonth()+1)).slice(-2),s=("00"+e.getDate()).slice(-2),n=`${t}-${a}-${s}`;return n};var f=(0,k.MT)({state:{tasks:[{name:"レポート制作（例）",deadline_date:"2023-11-23",deadline_time:null,priority:2,start_date:"2023-11-13",end_date:"2023-11-19",finished:0,steps:[{step:"テーマ選択",finished:0},{step:"文献調査",finished:0},{step:"下書き",finished:0},{step:"清書",finished:0},{step:"提出",finished:0}],id:1}],editTaskId:0},getters:{getTasks(e){return e.tasks},getEditTaskId(e){return e.editTaskId},getDateset(e){console.log(e)}},mutations:{selectEditTaskId(e,t){e.editTaskId=t},addTask(e,{task:t}){e.tasks.push(t)},changeTask(e,{task:t}){e.tasks=t},saveTask(e){m("tasks",JSON.stringify(e.tasks))},loadTask(e){localStorage.getItem("tasks")&&(e.tasks=JSON.parse(localStorage.getItem("tasks")))}},actions:{addTask(e,{task:t}){e.commit("addTask",{task:t}),e.commit("saveTask")},changeTask(e,{task:t}){e.commit("changeTask",{task:t}),e.commit("saveTask")}},modules:{}});const w=["id"],b={class:"modal-dialog",id:"modal-window",role:"document"},v={class:"modal-content rounded-bottom"},_={class:"modal-body"},y=(0,n._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,n._)("span",{"aria-hidden":"true"},"×")],-1),T={key:0,class:"modal-footer"},D=(0,n._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Close ",-1),C=(0,n._)("button",{type:"button",class:"btn btn-primary"},"Save changes",-1),I=[D,C];function S(e,t,a,s,i,l){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",{class:"modal fade",id:a.targetId,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,n._)("div",b,[(0,n._)("div",v,[(0,n._)("div",_,[y,(0,n._)("div",null,(0,o.zw)(a.text),1)]),1==a.showBtnFlg?((0,n.wg)(),(0,n.iD)("div",T,I)):(0,n.kq)("",!0)])])],8,w)])}var x={props:["text","showBtnFlg","targetId"]},V=a(89);const M=(0,V.Z)(x,[["render",S]]);var W=M,F=a(4870),E={data(){return{tasks:[],steps:[],today:"",todayTasks:[],dates:(0,F.iH)([{bar:!0,dates:[new Date(2023,10,1),new Date(2023,10,10),new Date(2023,10,22)],popover:{label:"Take Noah to basketball practice."},isComplete:!1},{bar:"red",dates:[new Date(2023,10,4),new Date(2023,10,10),new Date(2023,10,15)]},{bar:{style:{backgroundColor:"brown"}},dates:[new Date(2023,10,12),new Date(2023,10,26),new Date(2023,10,15)]}])}},components:{ModalWindow:W},created(){this.tasks=f.getters.getTasks,this.steps=f.getters.getSteps,this.today=new Date,this.tasks.forEach((e=>{new Date(e.start_date)<=this.today&&new Date(e.end_date)>=this.today&&this.todayTasks.push(e)}))},computed:{getAllTasks(){return f.getters.getTasks},doingTasks(){return this.tasks.filter((e=>!e.finished))},finishTasks(){return this.tasks.filter((e=>1==e.finished))}},watch:{tasks:{handler:function(){f.dispatch("changeTask",{task:this.tasks})},deep:!0},getAllTasks(e){this.tasks=e}},methods:{priorityLabel(e){switch(e=Number(e),e){case 1:return"高";case 2:return"中";case 3:return"小"}},finishToDo(e){this.tasks.splice(e,1)},sendTaskId(e){f.commit("selectEditTaskId",e)},deleteTask(e){this.tasks.splice(e,1),f.dispatch("changeTask",this.tasks)}}};const L=(0,V.Z)(E,[["render",h]]);var B=L;const P=(0,n._)("h3",{class:"text-center"},"スケジュール",-1);var j={__name:"ScheduleView",setup(e){const t=["red","blue","green","orange","pink"],a=(0,n.Fl)((()=>{const e=f.getters.getTasks;let a=[];return e.forEach(((e,s)=>{const n={description:e.name,isComplete:!1,dates:[[new Date(e.start_date),new Date(e.end_date)]],color:t[s]};a.push(n)})),a})),s=(0,F.iH)(a),o=(0,n.Fl)((()=>[...s.value.map((e=>({dates:e.dates,bar:{color:e.color,...e.isComplete&&{class:"opacity-75"}},popover:{label:e.description}})))]));return(e,t)=>{const a=(0,n.up)("VCalendar");return(0,n.wg)(),(0,n.iD)("div",null,[P,(0,n.Wm)(a,{id:"calendar",attributes:o.value},null,8,["attributes"])])}}};const O=j;var U=O;const N={class:"card p-2",style:{width:"100%","max-height":"600px"}},H=(0,n._)("h3",{class:"text-center"},"タスク達成率",-1);function q(e,t,a,s,o,i){const l=(0,n.up)("ChartPie");return(0,n.wg)(),(0,n.iD)("div",N,[H,(0,n.Wm)(l,{labels:["達成","未達成"],datas:i.getTaskRate},null,8,["datas"])])}const z={class:"text-center"};function A(e,t,a,s,i,l){const r=(0,n.up)("Pie");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("h4",z,(0,o.zw)(l.finishPercent)+"%",1),(0,n.Wm)(r,{data:i.data,options:i.options},null,8,["data","options"])])}var Z=a(9646),R=a(5866);Z.kL.register(Z.qi,Z.u,Z.De);var Y={props:["labels","datas"],components:{Pie:R.by},data(){return{data:{labels:this.labels,datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16","#ccc"],data:this.datas}]},options:{responsive:!0}}},computed:{finishPercent(){const e=this.datas[0];let t=0;if(0!==e){const a=this.datas[0]+this.datas[1];t=Math.round(e/a*100)}return t}}};const $=(0,V.Z)(Y,[["render",A]]);var K=$,J={name:"App",components:{ChartPie:K},data(){return{radar:{data:{labels:["a","b","c","d","e","f","g"],datasets:[{label:"aaa",backgroundColor:"rgba(179,181,198,0.2)",borderColor:"rgba(179,181,198,1)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",data:[65,59,90,81,56,55,40]},{label:"bbb",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",data:[28,48,40,19,96,27,100]}]},options:{responsive:!1,maintainAspectRatio:!1}}}},computed:{getTaskRate(){let e=0,t=0;const a=f.getters.getTasks;return a.forEach((a=>{1==a.finished?e+=a.steps.length:a.steps.forEach((a=>{1==a.finished?e++:t++}))})),[e,t]},getbeforeProcrastinationTendency(){return[10,20,25]},getafterProcrastinationTendency(){return[20,20,30]}}};const G=(0,V.Z)(J,[["render",q]]);var Q=G,X={data(){return{editTaskId:null,showSwipeModalFlg:!1}},components:{ListView:B,ScheduleView:U,ReportView:Q},computed:{getEditTaskId(){return f.getters.getEditTaskId}},watch:{showSwipeModalFlg(e){1==e?document.querySelector("body").style.overflow="hidden":(document.querySelector("body").style.overflow="visible",f.commit("selectEditTaskId",0))},getEditTaskId(e){e>0&&(this.showSwipeModalFlg=!0)}},created(){f.commit("loadTask")},methods:{selectedTaskId(e){this.editTaskId=e,this.showSwipeModalFlg=!0},closeSwipeModal(){this.showSwipeModalFlg=!this.showSwipeModalFlg,this.editTaskId=0}}};const ee=(0,V.Z)(X,[["render",d]]);var te=ee,ae=a(5431);(0,ae.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var se=a(2483);const ne={class:"p-2 swipeModal"},oe={key:0,class:"m-0 pt-3 text-center"},ie={key:1,class:"m-0 pt-3 text-center"},le=(0,n._)("label",{for:"task-name"},"タスク名",-1),re=(0,n._)("p",null,[(0,n._)("small",null,"タスクを完了するために取り組む作業を入力してください")],-1),de=(0,n._)("label",{for:"task-priority"},"タスクの優先順位",-1),ce={class:"input-group mb-3"},ue=(0,n._)("div",{class:"input-group-prepend"},null,-1),pe=(0,n._)("option",{value:"1"},"高",-1),he=(0,n._)("option",{value:"2",selected:""},"中",-1),ke=(0,n._)("option",{value:"3"},"小",-1),me=[pe,he,ke];function ge(e,t,a,o,i,l){const r=(0,n.up)("BFormInput"),d=(0,n.up)("b-form-group"),c=(0,n.up)("b-form-input"),u=(0,n.up)("BButton"),p=(0,n.up)("b-input-group-append"),h=(0,n.up)("b-input-group"),k=(0,n.up)("VDatePicker"),m=(0,n.up)("b-form"),g=(0,n.up)("b-button");return(0,n.wg)(),(0,n.iD)("div",ne,[0==i.taskId?((0,n.wg)(),(0,n.iD)("h2",oe,"タスク作成")):((0,n.wg)(),(0,n.iD)("h2",ie,"タスク編集")),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"mt-4"},{default:(0,n.w5)((()=>[le,(0,n.Wm)(r,{id:"task-name",modelValue:i.taskName,"onUpdate:modelValue":t[0]||(t[0]=e=>i.taskName=e),placeholder:"レポート制作",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(d,{class:"mt-4",label:"ステップ"},{default:(0,n.w5)((()=>[re,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.steps,((e,t)=>((0,n.wg)(),(0,n.j4)(h,{class:"mb-2",key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{type:"text",modelValue:i.steps[t],"onUpdate:modelValue":e=>i.steps[t]=e},null,8,["modelValue","onUpdate:modelValue"]),i.steps.length>1?((0,n.wg)(),(0,n.j4)(p,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{variant:"outline-primary",onClick:e=>l.removeStep(t)},{default:(0,n.w5)((()=>[(0,n.Uk)("削除")])),_:2},1032,["onClick"])])),_:2},1024)):(0,n.kq)("",!0)])),_:2},1024)))),128)),(0,n.Wm)(u,{variant:"primary",onClick:l.addStep,class:"mx-auto"},{default:(0,n.w5)((()=>[(0,n.Uk)("ステップを追加＋")])),_:1},8,["onClick"])])),_:1}),(0,n.Wm)(d,{class:"mt-4"},{default:(0,n.w5)((()=>[de,(0,n._)("div",ce,[ue,(0,n.wy)((0,n._)("select",{class:"custom-select",id:"task-priority","onUpdate:modelValue":t[1]||(t[1]=e=>i.taskPriority=e)},me,512),[[s.bM,i.taskPriority]])])])),_:1}),(0,n.Wm)(d,{class:"mt-4",label:"期限"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{type:"date",class:"form-control",modelValue:i.deadLineDate,"onUpdate:modelValue":t[2]||(t[2]=e=>i.deadLineDate=e),min:i.today,onInput:t[3]||(t[3]=e=>l.selectDeadlineDate())},null,8,["modelValue","min"])])),_:1}),(0,n.Wm)(d,{class:"mt-4",label:"取り組みスケジュール"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{expanded:"",mode:"date",modelValue:i.range,"onUpdate:modelValue":t[4]||(t[4]=e=>i.range=e),modelModifiers:{range:!0},"min-date":i.today,"max-date":null!==i.deadLineDate?i.deadLineDate:null},null,8,["modelValue","min-date","max-date"])])),_:1})])),_:1}),0==i.taskId?((0,n.wg)(),(0,n.j4)(g,{key:2,block:"",variant:"primary",onClick:l.createTask},{default:(0,n.w5)((()=>[(0,n.Uk)(" タスクを登録 ")])),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(g,{key:3,block:"",variant:"primary",onClick:l.saveTask},{default:(0,n.w5)((()=>[(0,n.Uk)(" 変更を保存 ")])),_:1},8,["onClick"]))])}var fe={props:["id"],data(){return{range:(0,F.iH)({}),today:null,taskId:this.id,taskName:"",steps:[""],taskPriority:2,priorityOptions:[{value:"1",text:"高"},{value:"2",text:"中"},{value:"3",text:"小"}],addTimeFlg:!1,deadLineDate:null,deadLineTime:"12:00:00",startDate:null,endDate:null}},created(){if(this.today=g(new Date),this.taskId>0){const e=f.getters.getTasks.filter((e=>e.id==this.taskId))[0];this.taskName=e.name,this.steps=[],e.steps.forEach((e=>{this.steps.push(e.step)})),this.deadLineDate=e.deadline_date,null!==e.deadline_time&&(this.addTimeFlg=!0,this.deadLineTime=e.deadline_time)}},watch:{range:{handler:function(e){this.startDate=g(e.start),this.endDate=g(e.end)},deep:!0}},methods:{addStep(){this.steps.push("")},removeStep(e){this.steps.splice(e,1)},selectDeadlineDate(){},createTask(){const e={name:this.taskName,deadline_date:this.deadLineDate,deadline_time:this.deadLineTime,priority:this.taskPriority,start_date:this.startDate,end_date:this.endDate,finished:0,steps:[]},t=[];this.steps.forEach((e=>{""!==e&&t.push({step:e,finished:0})}));let a=0;a=f.getters.getTasks.length<1?1:f.getters.getTasks.slice(-1)[0].id+1,e.id=a,e.steps=t,!1===this.addTimeFlg&&(e.deadline_time=null),f.dispatch("addTask",{task:e})},saveTask(){const e={name:this.taskName,deadline_date:this.deadLineDate,deadline_time:this.deadLineTime,priority:this.taskPriority,start_date:this.startDate,end_date:this.endDate,finished:0,steps:[]},t=[];this.steps.forEach((e=>{""!==e&&t.push({step:e,finished:0})})),e.id=this.taskId,e.steps=t;let a=f.getters.getTasks;const s=[];a.forEach((t=>{t.id==this.taskId?s.push(e):s.push(t)})),console.log(s),f.dispatch("changeTask",{task:s})}}};const we=(0,V.Z)(fe,[["render",ge]]);var be=we;const ve=[{path:"/create/:id",component:be,props:!0},{path:"/edit/:id",component:be,props:!0},{path:"/test",component:U}],_e=(0,se.p7)({history:(0,se.r5)(),routes:ve});var ye=_e,Te=a(1095),De=(a(7024),a(6744),a(6495));(0,s.ri)(te).use(f).use(ye).use(Te.qq).use(Te.BootstrapVueIcons).use(De.ZP,{}).mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,o){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[r])}))?s.splice(r--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,i=s[0],l=s[1],r=s[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(r)var c=r(a)}for(t&&t(s);d<i.length;d++)o=i[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunk_20142nhu"]=self["webpackChunk_20142nhu"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7846)}));s=a.O(s)})();
//# sourceMappingURL=app.422cebe3.js.map